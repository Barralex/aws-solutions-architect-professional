# 5.6 Spot Instances & Spot Fleet

**Curso:** AWS Solutions Architect Professional (SAP-C02)
**Sección:** 5 - Compute & Load Balancing
**Duración:** ~6 min

---

## Resumen

Spot Instances = hasta 90% descuento, pero AWS puede reclamarlas (2 min aviso). Para workloads resilientes a fallas. Spot Fleet = conjunto de Spot + On-Demand con estrategias de allocation (lowestPrice, diversified, capacityOptimized).

---

## Spot Instances

### Cómo funciona
- Definís precio máximo que estás dispuesto a pagar
- Mientras precio spot < tu máximo → tenés la instancia
- Si precio spot > tu máximo → AWS reclama la instancia
- Tenés 2 minutos de gracia para guardar datos y cerrar

### Cuándo usar
- Batch jobs
- Data analysis
- Workloads resilientes a fallas

### Cuándo NO usar
- Bases de datos
- Aplicaciones críticas
- Cualquier cosa que no pueda morir de repente

---

## Spot Fleet

Flota = conjunto de Spot Instances + (opcionalmente) On-Demand

### Estrategias de allocation

| Estrategia | Qué hace | Cuándo usar |
|------------|----------|-------------|
| **lowestPrice** | Elige pool con precio más bajo | Workloads cortos, máximo ahorro |
| **diversified** | Distribuye entre todos los pools | Workloads largos, alta disponibilidad |
| **capacityOptimized** | Elige pool con más capacidad | Cuando necesitás asegurar capacidad |
| **priceCapacityOptimized** | Primero más capacidad, luego más barato | Mejor opción para mayoría de casos |

---

## Spot Instance vs Spot Fleet

| Spot Instance | Spot Fleet |
|---------------|------------|
| Un tipo de instancia | Múltiples tipos |
| Una AZ | Múltiples AZs |
| Vos elegís todo | Fleet elige lo mejor por vos |

---

## Puntos Clave Examen

1. **90% descuento** pero pueden reclamarte
2. **2 minutos** de gracia
3. **lowestPrice** = máximo ahorro, workloads cortos
4. **diversified** = alta disponibilidad, workloads largos
5. **priceCapacityOptimized** = mejor para mayoría

