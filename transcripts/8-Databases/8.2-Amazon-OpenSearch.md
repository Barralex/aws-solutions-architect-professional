# 8.2 Amazon OpenSearch

## Qué es (rebrand importante)

| Nombre viejo | Nombre nuevo |
|--------------|--------------|
| ElasticSearch | OpenSearch |
| Kibana | OpenSearch Dashboards |

AWS forkeó ElasticSearch cuando cambió licencia → OpenSearch (open source)

## Modos de operación

| Modo | Qué es |
|------|--------|
| Managed Cluster | Definís tipos de instancias |
| Serverless | Sin infraestructura, pay-per-use |

## Casos de uso

- Log analytics
- Real-time application monitoring
- Security analytics
- Full-text search
- Clickstream analytics
- Indexing

## Stack completo

```
OpenSearch          → Search + indexing
OpenSearch Dashboards → Dashboards (alternativa a CloudWatch Dashboards)
Logstash            → Log ingestion (alternativa a CloudWatch Logs)
```

## Patrón 1: DynamoDB + OpenSearch

```
DynamoDB (CRUD)
      │
      ▼
   Streams
      │
      ├──→ Lambda ──→ OpenSearch
      │                    │
      │    (alternativa)   │
      │                    ▼
      └──→ Kinesis ──→ Firehose ──→ OpenSearch

                           │
                           ▼
                    App busca en OpenSearch
                           │
                           ▼
                    Retrieve de DynamoDB
```

**Por qué:** DynamoDB solo busca por PK/SK. OpenSearch permite full-text search.

## Patrón 2: CloudWatch Logs + OpenSearch

```
Opción 1 (real-time):
CloudWatch Logs → Subscription Filter → Lambda (AWS managed) → OpenSearch

Opción 2 (near real-time):
CloudWatch Logs → Subscription Filter → Kinesis Firehose → OpenSearch
```

## Para el examen

```
Full-text search sobre DynamoDB     → OpenSearch
Dashboards avanzados sobre logs     → OpenSearch Dashboards
"ElasticSearch" en pregunta         → Leer como "OpenSearch"
Real-time log analytics             → OpenSearch
```
