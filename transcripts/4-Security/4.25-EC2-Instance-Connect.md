# 4.25 EC2 Instance Connect

**Curso:** AWS Solutions Architect Professional (SAP-C02)
**Sección:** 4 - Security
**Duración:** ~2 min

---

## Resumen

EC2 Instance Connect usa API SendSSHPublicKey para subir clave pública temporal (60 segundos) a la instancia. Requiere SG con puerto 22 abierto a IPs del servicio. Todo se loguea en CloudTrail.

---

## Cómo funciona

```
Usuario
   │
   │ 1. Llama API EC2 Instance Connect
   ▼
┌─────────────────────────┐
│  EC2 Instance Connect   │
│  (SendSSHPublicKey API) │
└───────────┬─────────────┘
            │ 2. Sube clave pública SSH
            │    (válida 60 segundos)
            ▼
┌─────────────────────────┐
│      EC2 Instance       │
│   SG: puerto 22 abierto │
│   a IPs del servicio    │
└─────────────────────────┘
            ▲
            │ 3. Usuario conecta con
            │    clave privada (60s)
Usuario ────┘
```

---

## Puntos Clave

1. **SendSSHPublicKey API** - sube clave pública temporal
2. **60 segundos** - tiempo de validez de la clave
3. **Puerto 22** - debe estar abierto a IPs del servicio
4. **CloudTrail** - todas las conexiones se loguean

