# 5.8 Amazon ECR

**Curso:** AWS Solutions Architect Professional (SAP-C02)
**Sección:** 5 - Compute & Load Balancing
**Duración:** ~4 min

---

## Resumen

ECR = registry para guardar imágenes Docker. Privado o público. Soporta replicación cross-region/cross-account. Dos tipos de scanning: básico (CVE) y enhanced (Inspector).

---

## Tipos de repositorio

| Tipo | Uso |
|------|-----|
| **Privado** | Solo tu cuenta |
| **Público** | gallery.ecr.aws (compartir públicamente) |

---

## Replicación

```
CodeBuild → push imagen → ECR (us-east-1)
                              │
                              └─► Replicación automática
                                    │
                                    ├─► ECR (eu-west-1)
                                    └─► ECR (otra cuenta)
```

- Cross-region replication
- Cross-account replication
- No necesitás rebuild en cada región

---

## Image Scanning

### Basic Scanning
- Busca CVE comunes
- Manual o automático (scan on push)
- Eventos a EventBridge desde **ECR**

### Enhanced Scanning
- Usa **Amazon Inspector**
- Vulnerabilidades de OS + lenguajes de programación
- Más profundo
- Eventos a EventBridge desde **Inspector**

```
Basic:    ECR → escanea → EventBridge (source: ECR)
Enhanced: ECR → Inspector escanea → EventBridge (source: Inspector)
```

---

## Puntos Clave Examen

1. **Acceso via IAM** - errores de permiso = revisar política
2. **Replicación** - cross-region y cross-account
3. **Basic scan** = CVE, source ECR
4. **Enhanced scan** = Inspector, más completo

