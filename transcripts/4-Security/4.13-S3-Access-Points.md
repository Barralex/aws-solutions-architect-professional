# 4.13 S3 Access Points

**Curso:** AWS Solutions Architect Professional (SAP-C02)
**Sección:** 4 - Security
**Duración:** 4 min

---

## Resumen

S3 Access Points simplifican bucket policies gigantes. Cada access point tiene su DNS y policy. Para empresas grandes con múltiples equipos accediendo al mismo bucket.

---

## Problema que resuelve

```
┌─────────────────────────────────────────────────────────────┐
│  BANCO CON UN BUCKET Y 50 EQUIPOS:                         │
│                                                             │
│  s3://megacorp-data/                                        │
│  ├── /finance/     → equipo finanzas                       │
│  ├── /sales/       → equipo ventas                         │
│  ├── /hr/          → equipo RRHH                           │
│  └── /analytics/   → todos (read only)                     │
│                                                             │
│  Bucket policy de 2000 líneas = INMANEJABLE                │
└─────────────────────────────────────────────────────────────┘
```

---

## Solución: Access Points

```
┌─────────────────────────────────────────────────────────────┐
│                                                             │
│  ┌────────────┐ ┌────────────┐ ┌────────────┐              │
│  │ Finance AP │ │  Sales AP  │ │Analytics AP│              │
│  │ su policy  │ │  su policy │ │  su policy │              │
│  │ su DNS     │ │  su DNS    │ │  su DNS    │              │
│  └─────┬──────┘ └─────┬──────┘ └─────┬──────┘              │
│        └──────────────┼──────────────┘                      │
│                       ▼                                     │
│                 ┌──────────┐                                │
│                 │ S3 Bucket│                                │
│                 │ (simple) │                                │
│                 └──────────┘                                │
│                                                             │
│  Cada AP:                                                   │
│  • Tiene su propio DNS (finance-ap.s3-accesspoint...)      │
│  • Tiene su propia policy (simple, corta)                  │
│  • Puede ser público o VPC origin (privado)                │
└─────────────────────────────────────────────────────────────┘
```

---

## VPC Origin (acceso privado)

```
┌─────────────────────────────────────────────────────────────┐
│  EC2 ──► VPC Endpoint ──► Access Point ──► S3 Bucket       │
│               │                                             │
│         VPC Endpoint Policy                                 │
│         (allow bucket + access point)                       │
│                                                             │
│  3 capas de seguridad:                                      │
│  1. VPC Endpoint Policy                                     │
│  2. Access Point Policy                                     │
│  3. S3 Bucket Policy                                        │
└─────────────────────────────────────────────────────────────┘
```

---

## Quién lo usa

- Bancos y enterprises con 50+ equipos
- Multi-tenant (un AP por cliente)
- Compliance que requiere separación de accesos

---

## Puntos Clave para el Examen

1. **Access Points** = simplificar bucket policies complejas
2. **Cada AP tiene su DNS** propio
3. **Cada AP tiene su policy** (como bucket policy pero simple)
4. **VPC origin** = privado, requiere VPC Endpoint
5. **"Múltiples equipos, un bucket"** = Access Points

