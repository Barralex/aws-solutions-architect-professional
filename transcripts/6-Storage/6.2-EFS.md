# 6.2 EFS (Elastic File System)

## Qué es
- NFS managed (Network File System)
- Multi-AZ, multi-EC2 (muchas instancias montan el mismo FS)
- Solo Linux (POSIX)
- Pay per use (no provisioned como EBS)
- ~3x más caro que gp2

## Acceso
- EC2 en misma región (cualquier AZ)
- On-premises via VPN/Direct Connect (usar IP del ENI, no DNS)
- VPC Peering
- Un ENI (mount target) por AZ
- Control via Security Groups

## Performance Modes
| Modo | Uso |
|------|-----|
| General Purpose | Default, baja latencia (web, CMS) |
| Max I/O | Alta latencia pero más throughput (big data, media) |

## Throughput Modes
| Modo | Descripción |
|------|-------------|
| Bursting | Escala con storage (más GB = más throughput) |
| Provisioned | Throughput fijo independiente del storage |
| Elastic | Auto-scale según workload (unpredictable) |

## Storage Classes (Tiers)
| Tier | Uso | Costo |
|------|-----|-------|
| Standard | Acceso frecuente | $$$ |
| Infrequent Access (IA) | Acceso ocasional | $$ |
| Archive | Pocas veces al año | $ |

- Lifecycle policies mueven archivos entre tiers automáticamente
- Hasta 90% ahorro con tiers correctos

## Availability
| Modo | AZs | Uso |
|------|-----|-----|
| Standard | Multi-AZ | Producción |
| One Zone | 1 AZ | Dev/Test, más barato |
| One Zone-IA | 1 AZ + IA | Dev con ahorro |

## Access Points
- Restringir acceso a directorios específicos
- UID/GID de POSIX
- Control via IAM policies

## File System Policies
- Como S3 bucket policies
- Enforce encryption, restrict users

## Cross-Region Replication
- RPO/RTO de minutos
- Para DR y compliance
- No afecta throughput del source
