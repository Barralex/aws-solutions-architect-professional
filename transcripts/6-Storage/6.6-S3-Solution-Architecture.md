# 6.6 S3 Solution Architecture

## Formas de exponer contenido estático

```
1. EC2 + EBS (básico)
   → Barato, no escala, no HA

2. CloudFront + EC2 + EBS
   → Cache en edge, mejor global
   → Si EC2 muere, CloudFront falla

3. CloudFront + ALB + ASG + EFS
   → Escala, HA, pero caro
   → EFS porque múltiples EC2 comparten archivos

4. CloudFront + S3 ✅ (preferido)
   → Escala infinito, barato, serverless
   → Ideal para contenido estático grande
```

## S3 + DynamoDB (indexar objetos)

S3 no tiene búsqueda. Solución:

```
S3 upload → Event Notification → Lambda → DynamoDB

Después podés buscar por:
- Fecha
- Atributos custom
- Rango de fechas
- Metadata
```

## Separar dinámico vs estático (best practice)

```
                    Route 53
                       │
          ┌────────────┴────────────┐
          ▼                         ▼
    DINÁMICO                    ESTÁTICO
    ────────                    ────────
    ALB + EC2                   CloudFront
    o API GW + Lambda              │
          │                        ▼
          ▼                       S3
    DynamoDB               (HTML, videos, assets)
    (session, data)
```

## Pre-signed URLs
- Acceso directo a S3 sin pasar por CloudFront
- Para upload/download eficiente
